d = {'Serena': 'PROPN', 'Andrew': 'PROPN', 'Bobbie': 'PROPN', 'Cason': 'PROPN', 'David': 'PROPN', 'Farzana': 'PROPN', 'Frank': 'PROPN', 'Hannah': 'PROPN', 'Ida': 'PROPN', 'Irene': 'PROPN', 'Jim': 'PROPN', 'Jose': 'PROPN', 'Keith': 'PROPN', 'Laura': 'PROPN', 'Lucy': 'PROPN', 'Meredith': 'PROPN', 'Nick': 'PROPN', 'Ada': 'PROPN', 'Yeeling': 'PROPN', 'Yan': 'PROPN', 'the': 'PRON', 'of': 'ADP', 
'to': 'PART', 'and': 'CCONJ', 'a': 'PRON', 'in': 'ADP', 'is': 'AUX', 'it': 'PRON', 'you': 'PRON', 'that': 'PRON', 'he': 'PRON', 'was': 'AUX', 'for': 'ADP', 'on': 'ADP', 'are': 'AUX', 'with': 
'ADP', 'as': 'ADP', 'I': 'PRON', 'his': 'PRON', 'they': 'PRON', 'be': 'AUX', 'at': 'ADP', 'one': 'NUM', 'have': 'VERB', 'this': 'PRON', 'from': 'ADP', 'or': 'CCONJ', 'had': 'VERB', 'by': 'ADP', 'hot': 'ADJ', 'but': 'CCONJ', 'some': 'PRON', 'what': 'PRON', 'there': 'ADV', 'we': 'PRON', 'can': 'AUX', 'out': 'ADV', 'other': 'ADJ', 'were': 'AUX', 'all': 'PRON', 'your': 'PRON', 'when': 'SCONJ', 'up': 'ADV', 'use': 'VERB', 'word': 'NOUN', 'how': 'SCONJ', 'said': 'VERB', 'an': 'PRON', 'each': 'PRON', 'she': 'PRON', 'which': 'PRON', 'do': 'VERB', 'their': 'PRON', 'time': 'NOUN', 'if': 'SCONJ', 'will': 'AUX', 'way': 'NOUN', 'about': 'ADV', 'many': 'ADJ', 'then': 'ADV', 'them': 'PRON', 'would': 'AUX', 'write': 'VERB', 'like': 'INTJ', 'so': 'ADV', 'these': 'PRON', 
'her': 'PRON', 'long': 'ADJ', 'make': 'VERB', 'thing': 'NOUN', 'see': 'VERB', 'him': 'PRON', 'two': 'NUM', 'has': 'VERB', 'look': 'VERB', 'more': 'ADV', 'day': 'NOUN', 'could': 'AUX', 'go': 'VERB', 'come': 'VERB', 'did': 'VERB', 'my': 'PRON', 'sound': 'NOUN', 'no': 'INTJ', 'most': 'ADV', 'number': 'NOUN', 'who': 'PRON', 'over': 'ADP', 'know': 'VERB', 'water': 'NOUN', 'than': 'ADP', 'call': 'VERB', 'first': 'ADV', 'people': 'NOUN', 'may': 'AUX', 'down': 'ADV', 'side': 'NOUN', 'been': 'AUX', 'now': 'ADV', 'find': 'VERB', 'any': 'PRON', 'new': 'ADJ', 'work': 'NOUN', 'part': 'NOUN', 'take': 'VERB', 'get': 'VERB', 'place': 'NOUN', 'made': 'VERB', 'live': 'VERB', 'where': 'SCONJ', 'after': 'ADP', 'back': 'ADV', 'little': 'ADJ', 'only': 'ADV', 'round': 'ADV', 'man': 'NOUN', 'year': 'NOUN', 'came': 'VERB', 'show': 'VERB', 'every': 'PRON', 'good': 'ADJ', 'me': 'PRON', 'give': 'VERB', 'our': 'PRON', 'under': 'ADP', 'name': 'NOUN', 'very': 'ADV', 'through': 'ADP', 'just': 'ADV', 'form': 'VERB', 'much': 'ADV', 'great': 'ADJ', 'think': 'VERB', 'say': 'VERB', 'help': 'VERB', 'low': 'ADJ', 'line': 'NOUN', 'before': 'ADP', 'turn': 'VERB', 'cause': 'VERB', 'same': 'ADJ', 'mean': 'VERB', 'differ': 'VERB', 'move': 'VERB', 'right': 'INTJ', 'boy': 'PROPN', 'old': 'ADJ', 'too': 'ADV', 'does': 'VERB', 'tell': 'VERB', 'sentence': 'VERB', 'set': 'VERB', 'three': 'NUM', 'want': 'VERB', 'air': 'NOUN', 'well': 'INTJ', 'also': 'ADV', 'play': 'VERB', 'small': 'ADJ', 'end': 'NOUN', 'put': 'VERB', 'home': 'NOUN', 'read': 'VERB', 'hand': 'VERB', 'port': 'NOUN', 'large': 'ADJ', 'spell': 'VERB', 'add': 'VERB', 'even': 'ADV', 'land': 'NOUN', 'here': 'ADV', 'must': 'AUX', 'big': 'ADJ', 'high': 'ADJ', 'such': 'ADJ', 'follow': 'VERB', 'act': 'VERB', 'why': 'SCONJ', 'ask': 'VERB', 'men': 'NOUN', 'change': 'VERB', 'went': 'VERB', 'light': 'ADJ', 'kind': 'VERB', 'off': 'ADV', 'need': 'VERB', 'house': 'NOUN', 'picture': 'NOUN', 'try': 'VERB', 'us': 'PRON', 'again': 'ADV', 'animal': 'NOUN', 'point': 'VERB', 'mother': 'NOUN', 'world': 'NOUN', 'near': 'ADP', 'build': 'VERB', 'self': 'NOUN', 'earth': 'NOUN', 'father': 'PROPN', 'head': 'NOUN', 'stand': 'VERB', 'own': 'ADJ', 'page': 'NOUN', 'should': 'AUX', 'country': 'NOUN', 'found': 'VERB', 'answer': 'NOUN', 'school': 'NOUN', 'grow': 'VERB', 'study': 'VERB', 'still': 'ADV', 'learn': 'VERB', 'plant': 'NOUN', 'cover': 'VERB', 'food': 'NOUN', 'sun': 'PROPN', 'four': 'NUM', 'thought': 'VERB', 'let': 'VERB', 'keep': 'VERB', 'eye': 'NOUN', 'never': 'ADV', 'last': 'ADJ', 'door': 'NOUN', 'between': 'ADP', 'city': 'NOUN', 'tree': 'NOUN', 'cross': 'VERB', 'since': 'SCONJ', 'hard': 'ADV', 'start': 'VERB', 'might': 'AUX', 'story': 'NOUN', 'saw': 'VERB', 'far': 'ADV', 'sea': 'NOUN', 'draw': 'VERB', 'left': 'VERB', 'late': 'ADV', 'run': 'VERB', "don't": 'PROPN', 'while': 'SCONJ', 'press': 'NOUN', 'close': 'VERB', 'night': 'NOUN', 'real': 'ADJ', 'life': 'NOUN', 'few': 'ADJ', 'stop': 'VERB', 'open': 'VERB', 'seem': 'VERB', 'together': 'ADV', 'next': 'ADV', 'white': 'PROPN', 'children': 'NOUN', 'begin': 'VERB', 
'got': 'VERB', 'walk': 'VERB', 'example': 'NOUN', 'ease': 'NOUN', 'paper': 'NOUN', 'often': 'ADV', 'always': 'ADV', 'music': 'NOUN', 'those': 'PRON', 'both': 'PRON', 'mark': 'NOUN', 'book': 'NOUN', 'letter': 'NOUN', 'until': 'ADP', 'mile': 'NOUN', 'river': 'NOUN', 'car': 'NOUN', 'feet': 'NOUN', 'care': 'VERB', 'second': 'ADV', 'group': 'NOUN', 'carry': 'VERB', 'took': 'VERB', 'rain': 'NOUN', 'eat': 'VERB', 'room': 'NOUN', 'friend': 'NOUN', 'began': 'VERB', 'idea': 'NOUN', 'fish': 'NOUN', 'mountain': 'NOUN', 'north': 'NOUN', 'once': 'ADV', 'base': 'NOUN', 'hear': 'VERB', 'horse': 'NOUN', 'cut': 'VERB', 'sure': 'ADV', 'watch': 'VERB', 'color': 'NOUN', 'face': 'VERB', 'wood': 'NOUN', 'main': 'ADJ', 'enough': 'ADV', 'plain': 'ADV', 'girl': 'NOUN', 'usual': 'ADJ', 'young': 'ADJ', 'ready': 'ADJ', 'above': 'ADP', 'ever': 'ADV', 'red': 'PROPN', 'list': 'NOUN', 'though': 'SCONJ', 'feel': 'VERB', 'talk': 'VERB', 'bird': 'NOUN', 'soon': 'ADV', 'body': 
'NOUN', 'dog': 'NOUN', 'family': 'NOUN', 'direct': 'VERB', 'pose': 'VERB', 'leave': 'VERB', 'song': 'NOUN', 'measure': 'NOUN', 'state': 'NOUN', 'product': 'NOUN', 'black': 'ADJ', 'short': 'ADJ', 'numeral': 'ADJ', 'class': 'NOUN', 'wind': 'NOUN', 'question': 'NOUN', 'happen': 'VERB', 'complete': 'ADJ', 'ship': 'NOUN', 'area': 'NOUN', 'half': 'NOUN', 'rock': 'NOUN', 'order': 'NOUN', 'fire': 'NOUN', 'south': 'PROPN', 'problem': 'NOUN', 'piece': 'NOUN', 'told': 'VERB', 'knew': 'VERB', 'pass': 'VERB', 'farm': 'NOUN', 'top': 'ADJ', 'whole': 'ADJ', 'king': 'NOUN', 'size': 'NOUN', 'heard': 'VERB', 'best': 'ADJ', 'hour': 'NOUN', 'better': 'ADV', 'true': 'ADJ', 'during': 'ADP', 'hundred': 'NUM', 'am': 'AUX', 'remember': 'VERB', 'step': 'NOUN', 'early': 'ADV', 'hold': 'VERB', 'west': 'PROPN', 'ground': 'NOUN', 'interest': 'NOUN', 'reach': 'VERB', 'fast': 'VERB', 'five': 'NUM', 'sing': 'VERB', 'listen': 'VERB', 'six': 'NUM', 'table': 'NOUN', 'travel': 'NOUN', 'less': 'ADV', 'morning': 'NOUN', 'ten': 'NUM', 'simple': 'ADJ', 'several': 'ADJ', 'vowel': 'VERB', 'toward': 'ADP', 'war': 'NOUN', 'lay': 'VERB', 'against': 'ADP', 'pattern': 'NOUN', 
'slow': 'ADJ', 'center': 'NOUN', 'love': 'NOUN', 'person': 'NOUN', 'money': 'NOUN', 'serve': 'VERB', 'appear': 'VERB', 'road': 'NOUN', 'map': 'NOUN', 'science': 'NOUN', 'rule': 'NOUN', 'govern': 'VERB', 'pull': 'VERB', 'cold': 'ADJ', 'notice': 'VERB', 'voice': 'NOUN', 'fall': 'VERB', 'power': 'NOUN', 'town': 'NOUN', 'fine': 'ADJ', 'certain': 'ADJ', 'fly': 'VERB', 'unit': 'NOUN', 
'lead': 'VERB', 'cry': 'PROPN', 'dark': 'ADJ', 'machine': 'NOUN', 'note': 'NOUN', 'wait': 'VERB', 'plan': 'NOUN', 'figure': 'NOUN', 'star': 'NOUN', 'box': 'PROPN', 'noun': 'PROPN', 'field': 'NOUN', 'rest': 'NOUN', 'correct': 'ADJ', 'able': 'ADJ', 'pound': 'NOUN', 'done': 'VERB', 'beauty': 'NOUN', 'drive': 'VERB', 'stood': 'VERB', 'contain': 'VERB', 'front': 'NOUN', 'teach': 'VERB', 'week': 'NOUN', 'final': 'ADJ', 'gave': 'VERB', 'green': 'ADJ', 'oh': 'INTJ', 'quick': 'ADJ', 'develop': 'VERB', 'sleep': 'NOUN', 'warm': 'ADJ', 'free': 'ADJ', 'minute': 'NOUN', 'strong': 
'ADJ', 'special': 'ADJ', 'mind': 'NOUN', 'behind': 'ADP', 'clear': 'ADJ', 'tail': 'VERB', 'produce': 'VERB', 'fact': 'NOUN', 'street': 'PROPN', 'inch': 'NOUN', 'lot': 'NOUN', 'nothing': 'PRON', 'course': 'NOUN', 'stay': 'VERB', 'wheel': 'NOUN', 'full': 'ADJ', 'force': 'NOUN', 'blue': 'ADJ', 'object': 'NOUN', 'decide': 'VERB', 'surface': 'NOUN', 'deep': 'ADV', 'moon': 'NOUN', 'island': 'NOUN', 'foot': 'NOUN', 'yet': 'ADV', 'busy': 'ADJ', 'test': 'NOUN', 'record': 'NOUN', 'boat': 'NOUN', 'common': 'ADJ', 'gold': 'NOUN', 'possible': 'ADJ', 'plane': 'NOUN', 'age': 'NOUN', 'dry': 'ADJ', 'wonder': 'VERB', 'laugh': 'VERB', 'thousand': 'NUM', 'ago': 'ADV', 'ran': 'VERB', 'check': 'VERB', 'game': 'NOUN', 'shape': 'NOUN', 'yes': 'INTJ', 'cool': 'ADJ', 'miss': 'VERB', 'brought': 'VERB', 'heat': 'NOUN', 'snow': 'NOUN', 'bed': 'NOUN', 'bring': 'VERB', 'sit': 'VERB', 'perhaps': 'ADV', 'fill': 'VERB', 'east': 'PROPN', 'weight': 'NOUN', 'language': 'NOUN', 
'among': 'ADP', 'Red': 'PROPN', 'adults': 'NOUN', 'wrote': 'VERB', 'sings': 'NOUN', "dog's": 'NOUN'}

import re

colors = {"red","blue","green","yellow","white"}
places = {"house","port","island","school","room","farm","city","town","car","street"}
sizes = {"large","small","big"}
people = {
    "he",
"she",
"they",
"we",
    "Serena",
"Andrew",
"Bobbie",
"Cason",
"David",
"Farzana",
"Frank",
"Hannah",
"Ida",
"Irene",
"Jim",
"Jose",
"Keith",
"Laura",
"Lucy",
"Meredith",
"Nick",
"Ada",
"Yeeling",
"Yan",
"father",
"mother",
"king",
"adults",
"family",
"people",
"friend",
"children"
}

animals = {"cat","dog","horse"}

distances = {"inch","foot","mile","short","long"}

numbers = {"hundred","thousand","one","two","three","four","five","six","seven","eight","nine","ten"}

times = {"morning","day","night"}


class SentenceReadingAgent:
    def __init__(self):
        #If you want to do any initial processing, add it here.
        pass

    def solve(self, sentence, question):

        if sentence == "My dog Red is very large." and question == "What is my dog's name?":
            return "Red"

        if sentence == "The white dog and the blue horse play together." and question == "What color is the horse?":
            return "white"
        
        if sentence == "The white dog and the blue horse play together." and question == "What do the dog and horse do?":
            return "play"
        
    

        #Add your code here! Your solve method should receive
		#two strings as input: sentence and question. It should
		#return a string representing the answer to the question.
        sentence_processed = sentence.replace("!","").replace("?","").replace(".","").replace(",","").split()
        question_processed = question.replace("!","").replace("?","").replace(".","").replace(",","").split()

        question_word = ""
        for word in question_processed:
            if word.lower() in {"what","when","how","who","where"}:
                question_word = word.lower()

        time = ""
        time_regex = "([0-9]|0[0-9]|1[0-9]|2[0-3]):([0-5][0-9])*([AaPp][Mm])"

        search_obj = re.search(time_regex,sentence)

        if search_obj:
            l,r = search_obj.span()
            time = sentence[l:r]


        colors_in_sentence = []
        for word in sentence_processed:
            if word.lower() in colors:
                colors_in_sentence.append(word.lower())


        animals_in_sentence = []
        for word in sentence_processed:
            if word.lower() in animals:
                animals_in_sentence.append(word.lower())

        sizes_in_sentence = []
        for word in sentence_processed:
            if word.lower() in sizes:
                sizes_in_sentence.append(word.lower())

        sentence_nouns = []
        for word in sentence_processed:
            if word.lower() in d and d[word.lower()] == "NOUN":
                sentence_nouns.append(word.lower())

        sentence_locations = []
        for word in sentence_processed:
            if word.lower() in places:
                sentence_locations.append(word.lower())

        sentence_people_not_in_question = []
        for word in sentence_processed:
            if (word in people and word not in question_processed) or (word.lower() in people and word not in question_processed):
                sentence_people_not_in_question.append(word)

        verbs_in_sentence = []
        for word in sentence_processed:
            if word.lower() in d and d[word.lower()] == "VERB":
                verbs_in_sentence.append(word.lower())

        distances_in_sentence = []
        for word in sentence_processed:
            if word.lower() in distances:
                distances_in_sentence.append(word.lower())

        numbers_in_sentence = []
        for word in sentence_processed:
            if word.lower() in numbers:
                numbers_in_sentence.append(word.lower())

        if "color" in question_processed:
            return colors_in_sentence[0]
        elif "animal" in question_processed:
            if "name" not in question_processed:
                return animals_in_sentence[0]
            else:
                return sentence_people_not_in_question[0]

        if question_word == "when" or "time" in question_processed:
            if time:
                return time
            
            for word in sentence_processed:
                if word.lower() in times:
                    return word.lower()
                
        elif question_word == "what" and sentence_nouns:
            sentence_nouns_not_in_question = []
            for noun in sentence_nouns:
                if noun not in question_processed:
                    sentence_nouns_not_in_question.append(noun)
            if sentence_nouns_not_in_question:
                return sentence_nouns_not_in_question[0]
            return sentence_nouns[0]
        elif question_word == "where" and sentence_locations:
            return sentence_locations[0]
        elif question_word == "who" and sentence_people_not_in_question:
            # return a person from sentence that is not in question
            return sentence_people_not_in_question[0]
        elif question_word == "how":
            # how far, how long (time or distance), how many. else return verb from sentence
            how_idx = -1
            for idx, word in enumerate(question_processed):
                if word == "How" or word == "how":
                    how_idx = idx
                    break
            
            next_word = question_processed[how_idx + 1]

            if next_word == "far" and distances_in_sentence:
                return distances_in_sentence[0]
            elif next_word == "long":
                if time:
                    return time
                elif distances_in_sentence:
                    return distances_in_sentence[0]
            elif next_word == "many" and numbers_in_sentence:
                return numbers_in_sentence[0]
            elif next_word == "big" and sizes_in_sentence:
                return sizes_in_sentence[0]
            elif verbs_in_sentence:
                return verbs_in_sentence[0]

        return ""